development:
  # Used to encrypt and sign cookies
  # Changing this will invalidate all cookies
  secret_key_base: <%= ENV["SECRET_KEY_BASE"] ||
                       'c2d0f533e8251fdccfe1c0ba771dbf9209aaa520b6dbb5422085064fd7e4b6e5' %>

  # Used to create urls in emails
  email_host: localhost

  environment_name: development

  # Exception email settings
  exception:
    contact_name: OpenStax Accounts
    sender: '"Sender" <sender@localhost>'
    recipients: recipients@localhost

  # Salesforce settings
  salesforce:
    login_domain: <%= ENV['SALESFORCE_LOGIN_DOMAIN'] || 'test.salesforce.com' %>
    username: <%= ENV['SALESFORCE_USERNAME'] %>
    password: <%= ENV['SALESFORCE_PASSWORD'] %>
    security_token: <%= ENV['SALESFORCE_SECURITY_TOKEN'] %>
    consumer_key: <%= ENV['SALESFORCE_CONSUMER_KEY'] %>
    consumer_secret: <%= ENV['SALESFORCE_CONSUMER_SECRET'] %>

  # If this timeout is exceeded, the current job is aborted
  # The jobs lock also expires, allowing a new worker to start it
  background_worker_timeout: 300

  # Trusted hosts for redirects, CORS and loading inside an iframe
  trusted_hosts:
    - openstax.org
    - cnx.org
    - openstax.github.io
    - rdls.org
    - localhost
    - 127.0.0.1

  # The ip-api.com service gives us location data based on user IP address
  ip_api_key: the_ip_api_key

  cms_url: https://cms-dev.openstax.org
  openstax_url: https://dev.openstax.org

  cms_api_url: https://cms-dev.openstax.org/apps/cms/api/

test:
  # Used to encrypt and sign cookies
  # Changing this will invalidate all cookies
  secret_key_base: fb1c1b629399c0ed18a89c3552955a7c378ce72a10a639df910631b702285149

  # Used to create urls in emails
  email_host: localhost

  environment_name: test

  # If this timeout is exceeded, the current job is aborted
  # The jobs lock also expires, allowing a new worker to start it
  background_worker_timeout: 30

  # Exception email settings
  exception:
    contact_name: OpenStax Accounts
    sender: '"Sender" <sender@localhost>'
    recipients: recipients@localhost

  # Salesforce settings
  salesforce:
    login_domain: <%= ENV['SALESFORCE_LOGIN_DOMAIN'] || 'test.salesforce.com' %>
    username: <%= ENV['SALESFORCE_USERNAME'] || 'salesforce_username' %>
    password: <%= ENV['SALESFORCE_PASSWORD'] || 'salesforce_password' %>
    security_token: <%= ENV['SALESFORCE_SECURITY_TOKEN'] || 'salesforce_security_token' %>
    consumer_key: <%= ENV['SALESFORCE_CONSUMER_KEY'] || 'salesforce_consumer_key' %>
    consumer_secret: <%= ENV['SALESFORCE_CONSUMER_SECRET'] || 'salesforce_consumer_secret' %>

  # Trusted hosts for redirects, CORS and loading inside an iframe
  trusted_hosts:
    - openstax.org
    - cnx.org
    - openstax.github.io
    - rdls.org
    - localhost
    - 127.0.0.1

  # The ip-api.com service gives us location data based on user IP address
  ip_api_key: the_ip_api_key

  cms_url: https://cms-dev.openstax.org
  openstax_url: https://dev.openstax.org

  cms_api_url: https://cms-dev.openstax.org/apps/cms/api/

production:
  # Used to encrypt and sign cookies
  # Changing this will invalidate all cookies
  secret_key_base: random(hex,80)

  # Used to create urls in emails
  email_host: "{{ domain }}"

  environment_name: development

  # Exception email settings
  exception:
    contact_name: OpenStax Accounts
    sender: "{{ noreply_email }}"
    recipients: "{{ notification_email }}"

  # Salesforce settings
  salesforce:
    login_domain: ssm(salesforce_login_domain)
    username: ssm(salesforce_username)
    password: ssm(salesforce_password)
    security_token: ssm(salesforce_security_token)
    consumer_key: ssm(salesforce_consumer_key)
    consumer_secret: ssm(salesforce_consumer_secret)

  # Trusted hosts for redirects, CORS and loading inside an iframe
  trusted_hosts:
    - openstax.org
    - cnx.org
    - openstax.github.io
    - rdls.org
    - localhost
    - 127.0.0.1

  # Set to true to disable the corner dev/admin console
  disable_corner_console: false

  aws:
    ses:
      endpoint_server: "{{ ses_endpoint }}"
      access_key_id: "{{ ses_access_key_id }}"
      secret_access_key: "{{ ses_secret_access_key }}"

  # The ip-api.com service gives us location data based on user IP address
  ip_api_key: ssm(the_ip_api_key)

  database:
    url: "{{ database_endpoint }}"
    port: "{{ database_port }}"
    name: "{{ database_name }}"
    username: "{{ database_username }}"
    password: "{{ database_password }}"
  sentry:
    dsn: ssm(sentry_dsn)
  scout:
    license_key: ssm(scout_license_key)

  cms_url: https://cms-prod.openstax.org
  openstax_url: https://openstax.org

  cms_api_url: https://cms-prod.openstax.org/apps/cms/api/
